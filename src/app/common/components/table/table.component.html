<!-- table.component.html -->
<div class="w-full">
  <div class="overflow-x-auto rounded-2xl border border-slate-200 bg-white">
    <table class="min-w-full border-separate border-spacing-0">
      <thead class="bg-slate-50">
        <tr>
          <th
            *ngFor="let col of columns()"
            class="sticky top-0 z-10 border-b border-slate-200 px-4 py-3 text-xs font-semibold uppercase tracking-wide text-slate-600"
            [ngClass]="[
              col.headerClass ?? '',
              col.widthClass ?? '',
              getAlignClass(col.align)
            ]"
          >
            {{ col.header }}
          </th>
        </tr>
      </thead>

      <tbody>
        <!-- Loading -->
        <ng-container *ngIf="isLoading(); else dataState">
          <tr *ngFor="let _ of [1, 2, 3, 4, 5]">
            <td
              *ngFor="let col of columns()"
              class="border-b border-slate-100 px-4 py-3"
            >
              <div class="h-4 w-full animate-pulse rounded bg-slate-100"></div>
            </td>
          </tr>
        </ng-container>

        <ng-template #dataState>
          <!-- Empty -->
          <tr *ngIf="!data().length">
            <td
              [attr.colspan]="colCount()"
              class="px-4 py-10 text-center text-sm text-slate-500"
            >
              No hay datos para mostrar ðŸ« 
            </td>
          </tr>

          <!-- Rows -->
          <tr
            *ngFor="let row of data(); trackBy: trackBy()"
            class="cursor-pointer hover:bg-slate-50"
            (click)="rowClick.emit(row)"
          >
            <td
              *ngFor="let col of columns()"
              class="border-b border-slate-100 px-4 py-3 text-sm text-slate-700"
              [ngClass]="[
                col.cellClass ?? '',
                col.widthClass ?? '',
                getAlignClass(col.align)
              ]"
            >
              {{ getCellValue(row, col) }}
            </td>
          </tr>
        </ng-template>
      </tbody>
    </table>
  </div>
</div>
